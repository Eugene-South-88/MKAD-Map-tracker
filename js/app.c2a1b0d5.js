(function(){"use strict";var e={3603:function(e,t,n){var o=n(5130),r=n(2261),i=n(6768),s=n(144);const a=(0,r.nY)("store",{state:()=>({isLoading:!1,locationDetails:""}),actions:{defineInfoText(e){this.locationDetails=e}}});n(4114);const c=[[55.774558,37.842762],[55.76522,37.842789],[55.755723,37.842627],[55.747399,37.841828],[55.739103,37.841217],[55.730482,37.840175],[55.721939,37.83916],[55.712203,37.837121],[55.703048,37.83262],[55.694287,37.829512],[55.68529,37.831353],[55.675945,37.834605],[55.667752,37.837597],[55.658667,37.839348],[55.650053,37.833842],[55.643713,37.824787],[55.637347,37.814564],[55.62913,37.802473],[55.623758,37.794235],[55.617713,37.781928],[55.611755,37.771139],[55.604956,37.758725],[55.599677,37.747945],[55.594143,37.734785],[55.589234,37.723062],[55.583983,37.709425],[55.578834,37.696256],[55.574019,37.683167],[55.571999,37.668911],[55.573093,37.647765],[55.573928,37.633419],[55.574732,37.616719],[55.575816,37.60107],[55.5778,37.586536],[55.581271,37.571938],[55.585143,37.555732],[55.587509,37.545132],[55.5922,37.526366],[55.594728,37.516108],[55.60249,37.502274],[55.609685,37.49391],[55.617424,37.484846],[55.625801,37.474668],[55.630207,37.469925],[55.641041,37.456864],[55.648794,37.448195],[55.654675,37.441125],[55.660424,37.434424],[55.670701,37.42598],[55.67994,37.418712],[55.686873,37.414868],[55.695697,37.407528],[55.702805,37.397952],[55.709657,37.388969],[55.718273,37.383283],[55.728581,37.378369],[55.735201,37.374991],[55.744789,37.370248],[55.75435,37.369188],[55.762936,37.369053],[55.771444,37.369619],[55.779722,37.369853],[55.789542,37.372943],[55.79723,37.379824],[55.805796,37.386876],[55.814629,37.390397],[55.823606,37.393236],[55.83251,37.395275],[55.840376,37.394709],[55.850141,37.393056],[55.858801,37.397314],[55.867051,37.405588],[55.872703,37.416601],[55.877041,37.429429],[55.881091,37.443596],[55.882828,37.459065],[55.884625,37.473096],[55.888897,37.48861],[55.894232,37.5016],[55.899578,37.513206],[55.90526,37.527597],[55.907687,37.543443],[55.909388,37.559577],[55.910907,37.575531],[55.909257,37.590344],[55.905472,37.604637],[55.901637,37.619603],[55.898533,37.635961],[55.896973,37.647648],[55.895449,37.667878],[55.894868,37.681721],[55.893884,37.698807],[55.889094,37.712363],[55.883555,37.723636],[55.877501,37.735791],[55.874698,37.741261],[55.862464,37.764519],[55.861979,37.765992],[55.850257,37.788216],[55.850383,37.788522],[55.844167,37.800586],[55.832707,37.822819],[55.828789,37.829754],[55.821072,37.837148],[55.811599,37.838926],[55.802781,37.840004],[55.793991,37.840965],[55.785017,37.841576],[55.780825,37.842095]],u={id:"map"};var l={__name:"MapView",setup(e){const t=a(),n=e=>{const t=new window.ymaps.Polygon([c]);return e.geoObjects.add(t),t},o=e=>Math.round(e)/1e3,r=e=>{t.defineInfoText(e)};return(0,i.sV)((()=>{window.ymaps.ready((()=>{const e=e=>new window.ymaps.Placemark(e);let i;const s=new window.ymaps.Map("map",{center:[55.76,37.64],zoom:9},{searchControlProvider:"yandex#search"}),a=n(s);let c=null,u=null;s.events.add("click",(async n=>{if(t.isLoading)return;c&&s.geoObjects.remove(c);const l=n.get("coords"),d=JSON.parse(localStorage.getItem("saved coords"))||[];d.push(l),localStorage.setItem("saved coords",JSON.stringify(d)),i?i.geometry.setCoordinates(l):(i=e(l),s.geoObjects.add(i));const f=a.geometry.getClosest(l);u&&s.geoObjects.remove(u),u=new window.ymaps.Polyline([l,f.position],{},{strokeWidth:4,strokeStyle:"1 5"}),s.geoObjects.add(u),t.isLoading=!0;let p=await new Promise((e=>{window.ymaps.route([l,f.position],{routingMode:"auto"}).then((n=>{c=n,s.geoObjects.add(c),s.geoObjects.remove(i),e(`Расстояние по дороге: ${o(c.getLength())} км. Расстояние по небу: ${o(f.distance)} км.`),t.isLoading=!1}))}));p+=await new Promise((e=>{window.ymaps.geocode(l).then((t=>{const n=t.geoObjects.get(0),o=n.getAddressLine();e(`Адрес метки: ${o}`)}))})),r(p)}))}))})),(e,t)=>((0,i.uX)(),(0,i.CE)("div",u))}};const d=l;var f=d,p=n(4232);const v={key:0,class:"info"};var g={__name:"UiAlert",props:{text:{type:String,required:!0}},emits:["closeAlert"],setup(e,{emit:t}){const n=t,o=()=>{n("closeAlert")};return(t,n)=>e.text?((0,i.uX)(),(0,i.CE)("div",v,[(0,i.Lk)("div",null,(0,p.v_)(e.text),1),(0,i.Lk)("button",{class:"close",onClick:o},"×")])):(0,i.Q3)("",!0)}},m=n(1241);const w=(0,m.A)(g,[["__scopeId","data-v-1c9eb0ac"]]);var y=w,b={__name:"App",setup(e){const t=a(),{locationDetails:n}=(0,r.bP)(t);return(e,r)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(o.eB,{name:"fade"},{default:(0,i.k6)((()=>[(0,s.R1)(n)?((0,i.uX)(),(0,i.Wv)(y,{key:0,text:(0,s.R1)(n),onCloseAlert:r[0]||(r[0]=e=>(0,s.R1)(t).defineInfoText(""))},null,8,["text"])):(0,i.Q3)("",!0)])),_:1}),(0,i.bF)(f)],64))}};const h=b;var O=h;(0,o.Ef)(O).use((0,r.Ey)()).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,i){if(!o){var s=1/0;for(l=0;l<e.length;l++){o=e[l][0],r=e[l][1],i=e[l][2];for(var a=!0,c=0;c<o.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(a=!1,i<s&&(s=i));if(a){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[o,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,s=o[0],a=o[1],c=o[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(c)var l=c(n)}for(t&&t(o);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},o=self["webpackChunkmap_tracker_mkad"]=self["webpackChunkmap_tracker_mkad"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(3603)}));o=n.O(o)})();
//# sourceMappingURL=app.c2a1b0d5.js.map